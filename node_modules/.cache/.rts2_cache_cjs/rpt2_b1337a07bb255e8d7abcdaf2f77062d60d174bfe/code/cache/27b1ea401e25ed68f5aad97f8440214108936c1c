{"code":"class Emitter {\r\n    events;\r\n    constructor() {\r\n        this.events = {};\r\n    }\r\n    emit(event, data) {\r\n        if (this.events[event]) {\r\n            this.events[event].forEach((fn) => fn(data));\r\n        }\r\n    }\r\n    on(event, fn) {\r\n        if (this.events[event]) {\r\n            this.events[event].push(fn);\r\n        }\r\n        else {\r\n            this.events[event] = [fn];\r\n        }\r\n        return this;\r\n    }\r\n    off(event, fn) {\r\n        if (event && typeof fn === 'function') {\r\n            const listeners = this.events[event];\r\n            const index = listeners.findIndex((_fn) => _fn === fn);\r\n            listeners.splice(index, 1);\r\n        }\r\n        else {\r\n            this.events[event] = [];\r\n        }\r\n    }\r\n}\r\nexport { Emitter };\r\n//# sourceMappingURL=emitter.js.map","references":["/Users/chatfeed/projects/golang/weim-js-sdk/src/constants/index.ts","/Users/chatfeed/projects/golang/weim-js-sdk/src/types/index.d.ts"],"map":"{\"version\":3,\"file\":\"emitter.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/emitter.ts\"],\"names\":[],\"mappings\":\"AAMA,MAAM,OAAO;IAED,MAAM,CAAQ;IACtB;QACI,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACrB,CAAC;IACD,IAAI,CAAC,KAAc,EAAC,IAAsB;QACtC,IAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAC;YAClB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAC,EAAE,CAAA,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;SAC9C;IACL,CAAC;IACD,EAAE,CAAC,KAAc,EAAC,EAAmB;QACjC,IAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAC;YAClB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;SAC9B;aAAI;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;SAC7B;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACD,GAAG,CAAC,KAAc,EAAC,EAAmB;QAClC,IAAG,KAAK,IAAI,OAAO,EAAE,KAAK,UAAU,EAAC;YACjC,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACrC,MAAM,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,GAAG,EAAC,EAAE,CAAA,GAAG,KAAG,EAAE,CAAC,CAAC;YACnD,SAAS,CAAC,MAAM,CAAC,KAAK,EAAC,CAAC,CAAC,CAAC;SAC7B;aAAI;YACD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;SAC3B;IACL,CAAC;CACJ;AACD,OAAM,EACF,OAAO,EACV,CAAA\"}","dts":{"name":"/Users/chatfeed/projects/golang/weim-js-sdk/dist/emitter.d.ts","writeByteOrderMark":false,"text":"import { IMEvents } from './constants';\r\nimport { WebsocketResponse } from './types';\r\ndeclare type CallbackFunction = (data: WebsocketResponse) => void;\r\ndeclare class Emitter {\r\n    private events;\r\n    constructor();\r\n    emit(event: IMEvents, data: WebsocketResponse): void;\r\n    on(event: IMEvents, fn: CallbackFunction): this;\r\n    off(event: IMEvents, fn: CallbackFunction): void;\r\n}\r\nexport { Emitter };\r\n"}}
